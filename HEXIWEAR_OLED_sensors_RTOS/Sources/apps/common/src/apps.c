
#include "apps.h"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/**
 * [apps_InitLabel description]
 * @param label [description]
 */

void apps_InitLabel(apps_label_t *label)
{
  OLED_SetTextProperties(&label->textProperties);
  OLED_SetDynamicArea(&label->dynamicArea);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/**
 * [apps_DrawLabel description]
 * @param label [description]
 */

void apps_DrawLabel(apps_label_t *label)
{
  apps_InitLabel(label);
  OLED_DrawText(label->caption);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/**
 * [apps_InitImage description]
 * @param image [description]
 */

void apps_InitImage(apps_image_t *image)
{
  OLED_GetImageDimensions(&image->dynamicArea.width, &image->dynamicArea.height, image->img);
  OLED_SetDynamicArea(&image->dynamicArea);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/**
 * [apps_DrawImage description]
 * @param image [description]
 */

void apps_DrawImage(apps_image_t *image)
{
  apps_InitImage(image);
  OLED_DrawImage(image->img);
}

/**
 * [apps_Register description]
 * @param packetToReceive [description]
 */
void apps_Register( sensor_packet_t packetToReceive )
{
  sensor_SetPushTargets( packetToReceive, sensor_GetPushTargets( packetToReceive ) | SENSOR_PUSH_OLED );
}

/**
 * [apps_Unregister description]
 * @param packetToReceive [description]
 */
void apps_Unregister( sensor_packet_t packetToReceive )
{
  sensor_SetPushTargets( packetToReceive, sensor_GetPushTargets( packetToReceive ) & ~SENSOR_PUSH_OLED );
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
